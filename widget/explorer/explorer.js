//var data1 = [{"title":"Databases","iconUrl":"../images/db-icon.jpg","childNodes":[{"title":"admin","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"hello","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asdsad","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"local","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"startup_log","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"hello","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asdaddasd","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"te25","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"Collection 1","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"test6777","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"coll2","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"dadsadsads","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"colll3","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"colll5","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"collll23","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asddd","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"adasadad","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test2","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"coll1","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test22","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"coll1","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"c","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test23","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test24","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test26","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test27","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test28","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test29","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]}],"contextMenu":[{"title":"Add Database"}]}][{"title":"Databases","iconUrl":"../images/db-icon.jpg","childNodes":[{"title":"admin","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"hello","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asdsad","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"local","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"startup_log","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"hello","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asdaddasd","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"te25","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"Collection 1","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"test6777","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"coll2","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"dadsadsads","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"colll3","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"colll5","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"collll23","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asddd","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"adasadad","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test2","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"coll1","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test22","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"coll1","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"c","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test23","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test24","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test26","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test27","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test28","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test29","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]}],"contextMenu":[{"title":"Add Database"}]}];

(function(){
  var ID = function () {
    // Math.random should be unique because of its seeding algorithm.
    // Convert it to base 36 (numbers + letters), and grab the first 9 characters
    // after the decimal.
    return 'explorer-' + Math.random().toString(36).substr(2, 9);
  };
  //var template = document.getElementById("explorer-content-template").innerHTML;
  var template =   '<div class="explorer-header"><div class="explorer-icon"></div><div class="explorer-title-icon"></div><div class="explorer-title"></div></div>';

  this.Explorer = function(element, contents, options){
    var explorerEventsObject = {}, contextMenusObject = {};
    var titleProperty = options.titleProperty, iconProperty = options.iconProperty, childNodesProperty = options.childNodesProperty, clickProperty = options.clickProperty, contextMenuProperty = options.contextMenuProperty;

    function createTreeView(element, contents, options){
      if(contents){
        contents.forEach(function(item, index, array){
          var node = document.createElement('div');
          node.innerHTML = template;
          var explorerIcon = node.querySelector(".explorer-icon"),
          explorerTitle = node.querySelector(".explorer-title"),
          explorerTitleIcon = node.querySelector(".explorer-title-icon"),
          explorerHeader = node.querySelector(".explorer-header");

          explorerIcon.addEventListener("click", toggleChildNodes);
          explorerTitle.innerHTML = item[titleProperty];
          explorerTitle.id = ID();
          if(iconProperty && item[iconProperty]){
            explorerTitleIcon.style.backgroundImage = 'url("' + item[iconProperty] + '")';
          }
          else{
            explorerTitleIcon.classList.add('explorer-hide');
          }

          if(clickProperty && item[clickProperty]){
            explorerEventsObject[explorerTitle.id] = item[clickProperty];
          }

          if(contextMenuProperty && item[contextMenuProperty]){
            contextMenusObject[explorerTitle.id] = item[contextMenuProperty];
          }

          element.appendChild(node);
          if(childNodesProperty && item[childNodesProperty] && item[childNodesProperty].length){
            var childNode = document.createElement('div');
            childNode.className = "explorer-child-node explorer-child-node-margin explorer-hide";
            node.appendChild(childNode);
            createTreeView(childNode, item[childNodesProperty], options);
          }
          else{
            explorerIcon.classList.add('explorer-hidden');
          }

          //collapsing a node
          explorerIcon.classList.add('collapsed');
        });
      }
    }

    this.update = function (newContents) {
      //var oldContents = contents, result, currentNode = element;
      updateTreeView(element, contents, newContents);
      contents = newContents;
    }

    function updateTreeView(currentElement, oldContents, newContents){
      var result, node;
      newContents.forEach(function(item, index){
        //added condition
        if(oldContents.length <= index){
          createTreeView(currentElement, [newContents[index]],options);
        }
        else{
          result = objectComparator(oldContents[index], item);
          if(result.length > 0){
            node = currentElement.children[index];
            result.forEach(function(resultItem){
              if(resultItem.property === titleProperty){
                node.querySelector(".explorer-title").style.color = "green";
                node.querySelector(".explorer-title").innerHTML = item[titleProperty];
              }
              if(resultItem.property === childNodesProperty){
                var childNode = node.querySelector(".explorer-child-node");
                if(!childNode){
                  var explorerIcon = node.querySelector(".explorer-icon");
                  explorerIcon.addEventListener("click", toggleChildNodes);
                  explorerIcon.classList.remove("explorer-hidden");

                  childNode = document.createElement('div');
                  childNode.className = "explorer-child-node explorer-child-node-margin explorer-hide";
                  node.appendChild(childNode);
                }
                updateTreeView(childNode, oldContents[index][childNodesProperty], item[childNodesProperty]);
              }
            });
          }
        }
      });
    }

    function toggleChildNodes(event){
      var icon = event.currentTarget;
      var node = icon.parentNode.parentNode;
      var childNode = node.querySelector(".explorer-child-node");
      if(childNode){
        icon.classList.toggle('collapsed');
        childNode.classList.toggle('explorer-hide');
      }
    }

    // click event
    document.addEventListener("click", function(event){
      var node = event.target,
      contextMenu = element.querySelector(".explorer-contextmenu");
      if(node.classList.contains("explorer-title")){
        var clickEvent = explorerEventsObject[node.id];
        if(clickEvent){
          clickEvent();
        }
      }

      else if(node.classList.contains("explorer-contextmenu-item")){
        var clickEvent = explorerEventsObject[node.id];
        if(clickEvent){
          clickEvent();
          if(contextMenu){
            contextMenu.classList.add("explorer-hide");
          }
        }
      }

      else{
        if(contextMenu){
          contextMenu.classList.add("explorer-hide");
        }
      }
    });

    //context menu
    document.addEventListener("contextmenu", function(event){
      var node = event.target;
      if(node.classList.contains("explorer-title")){
        event.preventDefault();
        var contextMenu = element.querySelector(".explorer-contextmenu");
        if (contextMenu) {
          contextMenu.style.top = event.clientY + "px";
          contextMenu.style.left = event.clientX + "px";
          contextMenu.innerHTML = ""; // Remove previous menu items
          menuItems = contextMenusObject[node.id];
          if(menuItems){
            contextNode.classList.remove("explorer-hide");
            menuItems.forEach(function(item){
              var menuItemNode = document.createElement('div');
              menuItemNode.innerHTML = item[titleProperty];
              menuItemNode.id = ID();
              menuItemNode.classList.add("explorer-contextmenu-item");

              if(clickProperty && item[clickProperty]){
                explorerEventsObject[menuItemNode.id] = item[clickProperty];
              }

              contextMenu.appendChild(menuItemNode);
            });
          }
        }
      }
    });

    //create tree view
    createTreeView(element, contents, options);

    //object comparator function
    function objectComparator(sourceObject, targetObject){
        var result = [];

        //check for added and changed property
        for (var property in targetObject) {
            if(sourceObject[property] !== undefined){
                if(typeof targetObject[property] === 'function'){

                }
                else if(typeof targetObject[property] === 'object'){
                    if(objectComparator(sourceObject[property] , targetObject[property]).length > 0){
                        result.push({property: property, comment: "changed"});
                    }
                }

                else if(Array.isArray(targetObject[property])){
                    if(!arrayComparator(sourceObject[property] , targetObject[property])){
                        result.push({property: property, comment: "changed"});
                    }
                }
                else if(sourceObject[property] !== targetObject[property]){
                  result.push({property: property, comment: "changed"});
                }
            }
            else{
              result.push({property: property, comment: "added"});
            }
        }

        //check for removed property
        for (var property in sourceObject) {
          if(targetObject[property] === undefined){
            result.push({property: property, comment: "removed"});
          }
        }

        return result;
    }

    function arrayComparator(sourceArray, targetArray){
        if(Array.isArray(sourceArray) && Array.isArray(targetArray) && sourceArray.length === targetArray.length){
            for (var index = 0; index < targetArray.length; index++) {
              var item = targetArray[index];
              if(typeof item === 'function'){

              }
              else if(typeof item === 'object'){
                  if(objectComparator(sourceArray[index] , item).length > 0){
                      return false;
                  }
              }

              else if(Array.isArray(item)){
                  if(arrayComparator(sourceArray[index] , item)){
                      return false;
                  }
              }
              else if(sourceArray[index] !== item){
                  return false;
              }
            }
            return true;
        }
        else{
          return false;
        }
    }

    //add contextmenu
    var contextNode = document.createElement('div');
    contextNode.classList.add("explorer-contextmenu");
    contextNode.classList.add("explorer-hide");
    element.appendChild(contextNode);
  }
})();

// var data = [{"title":"Databases","iconUrl":"../images/db-icon.jpg","childNodes":[{"title":"admin","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"hello","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asdsad","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"admincoll","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"local","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"startup_log","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"hello","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asdaddasd","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"Collection 1","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"test6777","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"coll2","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"dadsadsads","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"colll3","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"colll5","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"collll23","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asddd","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"adasadad","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]}],"contextMenu":[{"title":"Add Database"}]}];var data1 = [{"title":"Databases","iconUrl":"../images/db-icon.jpg","childNodes":[{"title":"admin","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"hello","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asdsad","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"admincoll","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"local","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"startup_log","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"hello","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asdaddasd","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"Collection 1","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"test6777","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"coll2","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"dadsadsads","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"colll3","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"colll5","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"collll23","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asddd","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"adasadad","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]}],"contextMenu":[{"title":"Add Database"}]}];
// var container = document.getElementById("explorer-container-test");
// var expObj = new Explorer(container, data ,{ titleProperty: "title", iconProperty: "iconUrl",
// childNodesProperty: "childNodes",
// clickProperty: "onclick",
// contextMenuProperty: "contextMenu"
// });
//
// var dataT = [{"title":"Databases1","iconUrl":"../images/db-icon.jpg","childNodes":[{"title":"admin","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"hello","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asdsad","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"admincoll","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}, {"title":"new coll","iconUrl":"../images/collection-icon.png"}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"local","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"startup_log","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"hello","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asdaddasd","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"Collection 1","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"test6777","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"coll2","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"dadsadsads","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"colll3","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"colll5","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"collll23","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asddd","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"adasadad","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]}],"contextMenu":[{"title":"Add Database"}]}];var data1 = [{"title":"Databases","iconUrl":"../images/db-icon.jpg","childNodes":[{"title":"admin","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"hello","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asdsad","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"admincoll","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"local","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"startup_log","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"hello","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asdaddasd","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]},{"title":"test","iconUrl":"../images/database-icon.jpg","childNodes":[{"title":"Collections","iconUrl":"../images/folder-icon.jpg","childNodes":[{"title":"Collection 1","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"test6777","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"coll2","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"dadsadsads","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"colll3","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"colll5","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"collll23","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"asddd","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]},{"title":"adasadad","iconUrl":"../images/collection-icon.png","contextMenu":[{"title":"Add Record"},{"title":"Drop Collection"}]}],"contextMenu":[{"title":"Add Collection"}]}],"contextMenu":[{"title":"Drop Database"}]}],"contextMenu":[{"title":"Add Database"}]}];
// expObj.update(dataT);
// var target = { data: "", value: "", key: "adad", childNode: [{key: ""}]}
// var source = { data: "", item: "", value:"asdad", childNode: [{}]}
// console.log(objectComparator(source , target));
